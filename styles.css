:root{
  --ink:#10233A;
  --powder:#2E5FA7;
  --dusty:#6f8fa8;      /* celeste polvere */
  --dusty2:#BFD2F5;
  --cream1:#f7f2e8;
  --cream2:#efe6d7;
  --paper: rgba(255,255,255,.94);
  --shadow: 0 26px 70px rgba(0,0,0,.22);
  --shadow2: 0 16px 44px rgba(0,0,0,.14);
  --r: 24px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:"Cormorant Garamond",serif;font-weight:500;color:var(--ink);background:#0f355a;overflow:hidden}

.hero{
  position:relative;
  height:100vh;
  display:grid;
  place-items:center;
  background-image:url("sfondo-napoli-invito.png");
  background-size:cover;
  background-repeat:no-repeat;
  background-position:center 32%;
}
.heroShade{
  position:absolute; inset:0;
  background:
    radial-gradient(900px 560px at 50% 28%, rgba(255,255,255,.05), rgba(255,255,255,0) 62%),
    linear-gradient(180deg, rgba(15,53,90,.14), rgba(15,53,90,.28) 60%, rgba(15,53,90,.42));
  pointer-events:none;
}

.hint{
  position:absolute;
  bottom: calc(18px + env(safe-area-inset-bottom));
  left:50%; transform:translateX(-50%);
  padding:10px 14px;
  border-radius:999px;
  background: rgba(255,255,255,.74);
  border:1px solid rgba(255,255,255,.82);
  box-shadow: 0 12px 26px rgba(0,0,0,.14);
  backdrop-filter: blur(10px);
  font-weight:700;
  letter-spacing:.02em;
  color: rgba(16,35,58,.82);
  transition: opacity .25s ease, transform .25s ease;
}

/* Sigillo crema */
.seal{position:relative;width:110px;height:110px;border:0;background:none;cursor:pointer;z-index:5;transform:translateZ(0);}
@media(min-width:900px){.seal{width:124px;height:124px;}}
@media(max-width:420px){.seal{width:96px;height:96px;}}
.sealShadow{position:absolute;left:12%;right:12%;bottom:-16px;height:18px;background:radial-gradient(ellipse at center, rgba(0,0,0,.30), transparent 70%);filter:blur(5px);opacity:.75;}
.sealBody{position:absolute;inset:0;border-radius:50% 50% 48% 48%;background:radial-gradient(60px 60px at 30% 26%, rgba(255,255,255,.55), rgba(255,255,255,0) 62%),radial-gradient(70px 70px at 72% 80%, rgba(0,0,0,.16), rgba(0,0,0,0) 62%),conic-gradient(from 210deg, var(--cream2), var(--cream1), var(--cream2), #f9f5ee, var(--cream2));box-shadow:inset 0 10px 18px rgba(255,255,255,.26),inset 0 -14px 22px rgba(0,0,0,.14),0 18px 36px rgba(0,0,0,.20);transform:scaleY(.92);}
.sealRim{position:absolute;inset:14px;border-radius:50%;border:1px solid rgba(191,210,245,.55)}
.sealMono{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-family:Cinzel,serif;font-weight:700;letter-spacing:.12em;line-height:1;color:rgba(46,95,167,.86);transform:translateY(-2px)}

/* Overlay + busta */
.overlay{position:fixed;inset:0;display:grid;place-items:center;padding:18px 14px calc(18px + env(safe-area-inset-bottom));background:rgba(255,255,255,.10);backdrop-filter:blur(12px);opacity:0;pointer-events:none;transition:opacity .25s ease;}

.envelope{position:absolute;left:50%;top:58%;transform:translate(-50%,-50%);width:min(92vw,640px);height:min(70vh,520px);pointer-events:none;opacity:0;}
.envBack{position:absolute;inset:0;border-radius:26px;background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.18);box-shadow:0 22px 60px rgba(0,0,0,.22);}
.envFront{position:absolute;inset:0;border-radius:26px;background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.26));border:1px solid rgba(255,255,255,.18);clip-path:polygon(0 58%, 50% 92%, 100% 58%, 100% 100%, 0 100%);}
.flap{position:absolute;left:0;right:0;top:0;height:54%;border-radius:26px 26px 0 0;background:linear-gradient(180deg, rgba(255,255,255,.38), rgba(255,255,255,.18));transform-origin:50% 0%;transform:rotateX(0deg);}

/* Lettera */
.letter{width:min(92vw,640px);max-height:min(78vh,640px);overflow:auto;background:var(--paper);border:1px solid rgba(255,255,255,.78);border-radius:var(--r);box-shadow:var(--shadow);padding:28px 18px 20px;text-align:center;position:relative;opacity:0;transform:translateY(180px) scale(.96);transform-origin:50% 0%;}
.letter::before{content:"";position:absolute;top:-14px;left:16px;right:16px;height:16px;border-radius:12px;background:rgba(191,210,245,.35);box-shadow:0 10px 20px rgba(0,0,0,.14);opacity:.9;}
.close{position:absolute;top:10px;right:10px;width:36px;height:36px;border-radius:999px;border:1px solid rgba(16,35,58,.12);background:rgba(255,255,255,.78);cursor:pointer;font-family:Inter,system-ui,sans-serif;}

.letterTop{opacity:0;transform:translateY(10px);} 
.names{font-family:'Great Vibes',cursive;font-size:48px;line-height:1.02;margin:2px 0 10px;color:rgba(16,35,58,.92)}
.amp{font-family:Cinzel,serif;font-size:18px;margin:0 6px;color:rgba(46,95,167,.80)}
.kicker{font-family:Cinzel,serif;text-transform:uppercase;letter-spacing:.20em;font-size:12px;margin:0 0 8px;color:rgba(111,143,168,.90)}
.dateLine{font-weight:600;font-size:18px;color:rgba(16,35,58,.72);margin-bottom:6px}

.letterBody{opacity:0;transform:translateY(10px);} 
.grid{display:grid;gap:10px;margin-top:10px}
@media(min-width:680px){.grid{grid-template-columns:1fr 1fr;}}
.box{background:rgba(255,255,255,.88);border:1px solid rgba(46,95,167,.10);border-radius:16px;padding:12px;box-shadow:0 10px 22px rgba(0,0,0,.07)}
.box h2{margin:0 0 6px;font-family:Cinzel,serif;letter-spacing:.18em;font-size:11px;text-transform:uppercase;color:rgba(46,95,167,.82)}
.box p{margin:0;font-size:18px;color:rgba(16,35,58,.78)}
.box span{opacity:.75}

.btn{display:inline-block;margin-top:10px;padding:10px 12px;border-radius:12px;text-decoration:none;background:rgba(234,242,255,.95);border:1px solid rgba(46,95,167,.18);color:rgba(16,35,58,.88);font-weight:800;font-family:Inter,system-ui,sans-serif;}

.rsvp{margin-top:14px}
.rsvp p{margin:0;font-size:18px}
.btnPrimary{display:inline-block;margin-top:10px;padding:12px 18px;border-radius:999px;text-decoration:none;background:rgba(46,95,167,.96);color:#fff;font-weight:900;box-shadow:0 14px 30px rgba(46,95,167,.22);font-family:Cinzel,serif;letter-spacing:.06em;}
.thanks{margin-top:16px;opacity:.72;font-size:18px}

/* OPEN state */
body.open .overlay{opacity:1;pointer-events:auto}
body.open .hint{opacity:0;transform:translateX(-50%) translateY(10px)}
body.open .envelope{opacity:1}
body.open .flap{animation: flapOpen .65s cubic-bezier(.2,.9,.2,1) forwards;}
@keyframes flapOpen{to{transform:rotateX(180deg);}}

body.open .letter{animation: letterOut .85s cubic-bezier(.15,0.95,.18,1) forwards;}
@keyframes letterOut{0%{opacity:0;transform:translateY(210px) scale(.96);}55%{opacity:1;transform:translateY(-10px) scale(1.01);}100%{opacity:1;transform:translateY(0) scale(1);}}

body.open .letterTop{animation: fadeUp .55s ease forwards;animation-delay:.35s;}
body.open .letterBody{animation: fadeUp .55s ease forwards;animation-delay:.70s;}
@keyframes fadeUp{to{opacity:1;transform:translateY(0);}}

@media(max-width:420px){
  .hero{background-position:center 30%;}
  .names{font-size:42px}
  .letter{padding:26px 16px 18px}
  .box p,.rsvp p,.thanks{font-size:17px}
}

@media (prefers-reduced-motion: reduce){
  *{transition:none !important;animation:none !important}
  body.open .overlay{opacity:1;pointer-events:auto}
  body.open .letter{opacity:1;transform:none}
  body.open .letterTop, body.open .letterBody{opacity:1;transform:none}
}
